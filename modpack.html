<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Página de Download</title>
  <style>

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}

    :root{
      --bg-1:#070707;
      --bg-2:#0f0f0f;
      --card:#0b0b0b;
      --muted:#bdbdbd;
      --accent-1:#ff7b00; /* laranja vivo */
      --accent-2:#ff4500; /* laranja escuro */
      --glass: rgba(255,255,255,0.02);
      --shadow: 0 10px 30px rgba(0,0,0,0.6);
    }

    body{
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      display:flex;align-items:center;justify-content:center;
      background: linear-gradient(180deg,var(--bg-1) 0%, var(--bg-2) 100%);
      color: #fff;
      padding:20px;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .card{
      width:100%;
      max-width:560px;
      text-align:center;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:14px;
      padding:34px 28px;
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,123,0,0.06);
      backdrop-filter: blur(6px);
    }

    h1{
      font-size:1.3rem;
      margin-bottom:8px;
      font-weight:700;
      color:var(--accent-1);
      text-shadow: 0 2px 18px rgba(255,123,0,0.08);
    }

    p.lead{
      font-size:0.95rem;
      margin-bottom:22px;
      color:var(--muted);
      opacity:0.95;
    }

    .meta{
      font-size:0.78rem;
      color:rgba(255,255,255,0.12);
      margin-top:6px;
    }

    a.button{
      display:inline-block;
      min-width:220px;
      padding:14px 22px;
      border-radius:12px;
      text-decoration:none;
      font-weight:800;
      font-size:1rem;
      letter-spacing:0.3px;
      background: linear-gradient(90deg,var(--accent-1),var(--accent-2));
      color:#0b0b0b;
      box-shadow: 0 8px 24px rgba(255,90,0,0.18);
      transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease, filter .12s ease;
      -webkit-tap-highlight-color: transparent;
      border: none;
      display:inline-flex;align-items:center;justify-content:center;gap:10px;
    }

    .btn-icon{
      width:18px;height:18px;display:inline-block;border-radius:3px;background:rgba(0,0,0,0.12);box-shadow:inset 0 -1px 0 rgba(0,0,0,0.12);
    }

    a.button:hover{ transform:translateY(-3px); filter:brightness(1.02) }
    a.button:active{ transform:translateY(0) }

    a.button[aria-disabled="true"]{opacity:0.6;pointer-events:none;box-shadow:none;filter:grayscale(.05)}

    @media (max-width:420px){
      .card{padding:22px 16px}
      a.button{width:100%;min-width:0}
    }

    a.button:focus{outline:3px solid rgba(255,123,0,0.18);outline-offset:3px}

  </style>
</head>
<body data-file="https://cdn.cavalocarbonizado.xyz/modpacks/mods.zip">
  <main class="card" role="main">
    <h1 id="title">Modpack Warriors Unlimited 2025</h1>
    <p class="lead" id="subtitle">Clique no botão abaixo para iniciar o download.</p>

    <a id="downloadBtn" class="button" href="#" download aria-disabled="true">
      <span>Baixar</span>
    </a>

    <div class="meta">Arquivo: <span id="fileName">—</span></div>

  </main>

  <script>
    (function(){
      function getQueryFile(){
        try{ const p = new URLSearchParams(location.search); return p.get('file'); }catch(e){return null}
      }

      var file = getQueryFile() || document.body.getAttribute('data-file') || null;
      var btn = document.getElementById('downloadBtn');
      var fileNameLabel = document.getElementById('fileName');

      function setDisabled(state){
        btn.setAttribute('aria-disabled', state ? 'true' : 'false');
        if(state){ btn.removeAttribute('href'); btn.removeAttribute('download') }
      }

      if(file){
        try{
          var name = file.split('/').pop().split('?')[0] || 'download';
          btn.href = file;
          btn.setAttribute('download', name);
          fileNameLabel.innerText = name;
          setDisabled(false);
        }catch(e){ setDisabled(true) }
      } else {
        setDisabled(true);
        var subtitle = document.getElementById('subtitle');
        subtitle.innerText = 'Nenhum arquivo configurado — adicione ?file=URL_ou_defina data-file no body.';
        fileNameLabel.innerText = '—';
      }

      btn.addEventListener('click', function(ev){
        if(btn.getAttribute('aria-disabled') === 'true') return ev.preventDefault();
        var href = btn.href; if(!href) return;
        var isCross = (new URL(href, location.href)).origin !== location.origin;
        if(isCross) {

        }
      });

      function tryFetchAndDownload(url, filename){
        fetch(url).then(function(r){ if(!r.ok) throw new Error('network'); return r.blob() })
        .then(function(blob){
          var link = document.createElement('a');
          link.href = URL.createObjectURL(blob);
          link.download = filename || 'download';
          document.body.appendChild(link);
          link.click();
          setTimeout(function(){ URL.revokeObjectURL(link.href); link.remove() }, 4000);
        }).catch(function(){ });
      }

    })();
  </script>
</body>
</html>
